// Default load library with categories, utilization factors, and defaults
// Each entry represents a common residential electrical load

export const LOAD_CATEGORIES = {
  LIGHTING: 'General Lighting/Receptacles',
  DRYER: 'Electric Dryer',
  RANGE: 'Range/Oven',
  COOKTOP: 'Cooktop',
  MICROWAVE: 'Microwave',
  DISHWASHER: 'Dishwasher',
  DISPOSAL: 'Garbage Disposal',
  REFRIGERATOR: 'Refrigerator',
  FREEZER: 'Freezer',
  WASHER: 'Clothes Washer',
  WATER_HEATER: 'Water Heater (Electric)',
  FURNACE_BLOWER: 'Furnace Blower/Boiler',
  AC_CONDENSER: 'AC Condenser',
  AIR_HANDLER: 'Air Handler',
  HEAT_PUMP: 'Heat Pump',
  WELL_PUMP: 'Well Pump',
  SUMP_PUMP: 'Sump Pump',
  DEHUMIDIFIER: 'Dehumidifier',
  POOL_EQUIPMENT: 'Pool Equipment',
  HOT_TUB: 'Hot Tub/Spa',
  WORKSHOP: 'Workshop/Garage',
  EV_CHARGER: 'EV Charger',
  OTHER: 'Other',
};

// Default load library entries
// utilizationFactor: fraction of breaker capacity typically used
// assumedWatts: default running watts for the load
// hoursPerDay: typical daily usage hours for battery sizing
// poles: typical breaker poles
// amps: typical breaker amps
// isMotor: whether this is a motor load (affects battery sizing)
export const LOAD_LIBRARY = [
  {
    category: LOAD_CATEGORIES.LIGHTING,
    description: 'General Lighting & Receptacles',
    poles: 1,
    amps: 15,
    utilizationFactor: 0.3,
    assumedWatts: 1500,
    hoursPerDay: 8,
    isMotor: false,
    hint: 'Covers general lighting and receptacle circuits. For more accuracy, enter per NEC 220.12 (3 VA/sq ft) or adjust based on actual usage.',
    scaleBySqFt: true,
    wattsPerSqFt: 0.75, // conservative running estimate
  },
  {
    category: LOAD_CATEGORIES.DRYER,
    description: 'Electric Dryer',
    poles: 2,
    amps: 30,
    utilizationFactor: 0.42,
    assumedWatts: 5000,
    hoursPerDay: 1,
    isMotor: true,
    hint: 'Typical residential electric dryer. 5000W nameplate is standard. NEC demand: 5000W.',
    defaultLRA: 30,
  },
  {
    category: LOAD_CATEGORIES.RANGE,
    description: 'Electric Range/Oven',
    poles: 2,
    amps: 40,
    utilizationFactor: 0.35,
    assumedWatts: 8000,
    hoursPerDay: 1.5,
    isMotor: false,
    hint: 'Typical electric range. Nameplate 8-12 kW. NEC demand per Table 220.55.',
  },
  {
    category: LOAD_CATEGORIES.COOKTOP,
    description: 'Electric Cooktop',
    poles: 2,
    amps: 30,
    utilizationFactor: 0.4,
    assumedWatts: 6000,
    hoursPerDay: 1,
    isMotor: false,
    hint: 'Standalone electric cooktop, typically 6-7 kW.',
  },
  {
    category: LOAD_CATEGORIES.MICROWAVE,
    description: 'Microwave',
    poles: 1,
    amps: 20,
    utilizationFactor: 0.6,
    assumedWatts: 1500,
    hoursPerDay: 0.5,
    isMotor: false,
    hint: 'Built-in or countertop microwave, typically 1000-1800W.',
  },
  {
    category: LOAD_CATEGORIES.DISHWASHER,
    description: 'Dishwasher',
    poles: 1,
    amps: 15,
    utilizationFactor: 0.6,
    assumedWatts: 1200,
    hoursPerDay: 1,
    isMotor: true,
    hint: 'Standard residential dishwasher with heating element.',
    defaultLRA: 15,
  },
  {
    category: LOAD_CATEGORIES.DISPOSAL,
    description: 'Garbage Disposal',
    poles: 1,
    amps: 15,
    utilizationFactor: 0.4,
    assumedWatts: 500,
    hoursPerDay: 0.1,
    isMotor: true,
    hint: 'Typical 1/2 HP garbage disposal.',
    defaultLRA: 20,
  },
  {
    category: LOAD_CATEGORIES.REFRIGERATOR,
    description: 'Refrigerator',
    poles: 1,
    amps: 15,
    utilizationFactor: 0.15,
    assumedWatts: 200,
    hoursPerDay: 24,
    isMotor: true,
    hint: 'Standard refrigerator. Running watts ~150-250W, but compressor start can be 3-5x.',
    defaultLRA: 12,
  },
  {
    category: LOAD_CATEGORIES.FREEZER,
    description: 'Standalone Freezer',
    poles: 1,
    amps: 15,
    utilizationFactor: 0.12,
    assumedWatts: 150,
    hoursPerDay: 24,
    isMotor: true,
    hint: 'Standalone chest or upright freezer. ~100-200W running.',
    defaultLRA: 10,
  },
  {
    category: LOAD_CATEGORIES.WASHER,
    description: 'Clothes Washer',
    poles: 1,
    amps: 20,
    utilizationFactor: 0.25,
    assumedWatts: 500,
    hoursPerDay: 0.5,
    isMotor: true,
    hint: 'Standard clothes washer motor. ~500W typical.',
    defaultLRA: 20,
  },
  {
    category: LOAD_CATEGORIES.WATER_HEATER,
    description: 'Electric Water Heater',
    poles: 2,
    amps: 30,
    utilizationFactor: 0.6,
    assumedWatts: 4500,
    hoursPerDay: 3,
    isMotor: false,
    hint: 'Standard 40-50 gal electric water heater. 4500W element typical.',
  },
  {
    category: LOAD_CATEGORIES.FURNACE_BLOWER,
    description: 'Furnace Blower Motor',
    poles: 1,
    amps: 15,
    utilizationFactor: 0.4,
    assumedWatts: 500,
    hoursPerDay: 8,
    isMotor: true,
    hint: 'Gas furnace blower motor. ~300-700W depending on size.',
    defaultLRA: 25,
  },
  {
    category: LOAD_CATEGORIES.AC_CONDENSER,
    description: 'AC Condenser Unit',
    poles: 2,
    amps: 30,
    utilizationFactor: 0.65,
    assumedWatts: 3500,
    hoursPerDay: 8,
    isMotor: true,
    hint: 'Central AC condenser. 2-5 ton units typically 2000-5000W running. LRA can be 40-100A.',
    defaultLRA: 65,
  },
  {
    category: LOAD_CATEGORIES.AIR_HANDLER,
    description: 'Air Handler / Fan Coil',
    poles: 1,
    amps: 15,
    utilizationFactor: 0.35,
    assumedWatts: 500,
    hoursPerDay: 8,
    isMotor: true,
    hint: 'Indoor air handler blower. ~300-700W running.',
    defaultLRA: 25,
  },
  {
    category: LOAD_CATEGORIES.HEAT_PUMP,
    description: 'Heat Pump (Outdoor Unit)',
    poles: 2,
    amps: 30,
    utilizationFactor: 0.65,
    assumedWatts: 3500,
    hoursPerDay: 10,
    isMotor: true,
    hint: 'Heat pump outdoor unit. Similar to AC condenser in electrical characteristics.',
    defaultLRA: 65,
  },
  {
    category: LOAD_CATEGORIES.WELL_PUMP,
    description: 'Well Pump',
    poles: 2,
    amps: 20,
    utilizationFactor: 0.5,
    assumedWatts: 1500,
    hoursPerDay: 2,
    isMotor: true,
    hint: 'Submersible well pump. 1/2 to 1 HP typical. LRA can be high.',
    defaultLRA: 45,
  },
  {
    category: LOAD_CATEGORIES.SUMP_PUMP,
    description: 'Sump Pump',
    poles: 1,
    amps: 15,
    utilizationFactor: 0.3,
    assumedWatts: 400,
    hoursPerDay: 1,
    isMotor: true,
    hint: 'Sump pump. ~300-800W depending on HP.',
    defaultLRA: 30,
  },
  {
    category: LOAD_CATEGORIES.DEHUMIDIFIER,
    description: 'Dehumidifier',
    poles: 1,
    amps: 15,
    utilizationFactor: 0.3,
    assumedWatts: 500,
    hoursPerDay: 12,
    isMotor: true,
    hint: 'Whole-house or portable dehumidifier.',
    defaultLRA: 15,
  },
  {
    category: LOAD_CATEGORIES.POOL_EQUIPMENT,
    description: 'Pool Pump & Equipment',
    poles: 2,
    amps: 20,
    utilizationFactor: 0.6,
    assumedWatts: 2000,
    hoursPerDay: 8,
    isMotor: true,
    hint: 'Pool pump and associated equipment. Variable speed pumps may use less.',
    defaultLRA: 40,
  },
  {
    category: LOAD_CATEGORIES.HOT_TUB,
    description: 'Hot Tub / Spa',
    poles: 2,
    amps: 50,
    utilizationFactor: 0.5,
    assumedWatts: 5000,
    hoursPerDay: 3,
    isMotor: true,
    hint: 'Hot tub heater + pump. 240V/50A typical. ~4000-6000W.',
    defaultLRA: 50,
  },
  {
    category: LOAD_CATEGORIES.WORKSHOP,
    description: 'Workshop / Garage Circuit',
    poles: 1,
    amps: 20,
    utilizationFactor: 0.3,
    assumedWatts: 700,
    hoursPerDay: 2,
    isMotor: false,
    hint: 'General workshop/garage circuit. Adjust based on equipment.',
  },
  {
    category: LOAD_CATEGORIES.OTHER,
    description: 'Other / Custom Load',
    poles: 1,
    amps: 15,
    utilizationFactor: 0.5,
    assumedWatts: 500,
    hoursPerDay: 4,
    isMotor: false,
    hint: 'Custom load. Enter description and wattage.',
  },
];

// EV Charger options
export const EV_CHARGER_OPTIONS = [
  {
    label: 'Level 2 EVSE - 32A',
    continuousAmps: 32,
    recommendedBreakerAmps: 40,
    poles: 2,
  },
  {
    label: 'Level 2 EVSE - 40A',
    continuousAmps: 40,
    recommendedBreakerAmps: 50,
    poles: 2,
  },
  {
    label: 'Level 2 EVSE - 48A',
    continuousAmps: 48,
    recommendedBreakerAmps: 60,
    poles: 2,
  },
  {
    label: 'Tesla Wall Connector (48A)',
    continuousAmps: 48,
    recommendedBreakerAmps: 60,
    poles: 2,
  },
  {
    label: 'Custom EVSE',
    continuousAmps: 0, // user enters
    recommendedBreakerAmps: 0,
    poles: 2,
    isCustom: true,
  },
];

// Battery specifications from datasheets
export const BATTERY_SPECS = {
  enphase5P: {
    name: 'Enphase IQ Battery 5P',
    shortName: '5P',
    usableKWh: 5.0,
    continuousKW: 3.84,
    motorStartLRA: null, // not explicitly rated
    maxUnits: 20,
  },
  enphase10C: {
    name: 'Enphase IQ Battery 10C',
    shortName: '10C',
    usableKWh: 10.0,
    continuousKW: 7.68,
    motorStartLRA: 90,
    maxUnits: 20,
  },
  teslaPW3: {
    name: 'Tesla Powerwall 3',
    shortName: 'PW3',
    usableKWh: 13.5,
    continuousKW: 11.5,
    motorStartLRA: 185,
    maxLeaders: 4,
    maxExpansionsPerLeader: 3,
    maxTotalUnits: 4, // 4 leaders max
  },
  teslaPW3Expansion: {
    name: 'Tesla PW3 Expansion Pack',
    shortName: 'PW3 Exp',
    usableKWh: 13.5,
    continuousKW: 0, // energy-only, no additional inverter
    maxPerLeader: 3,
  },
};

// Main breaker size options
export const MAIN_BREAKER_OPTIONS = [60, 100, 125, 150, 200, 225, 400];

// Standard breaker amp sizes
export const BREAKER_AMP_OPTIONS = [15, 20, 25, 30, 35, 40, 45, 50, 60, 70, 80, 90, 100, 125, 150, 200];

// Backup duration modes (used by UI - 1 day, 2 days, or custom)
// No longer an array of options; the UI uses button toggles for '1', '2', 'custom'

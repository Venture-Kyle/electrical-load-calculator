:root{--navy: #14284F;--navy-light: #1e3a6e;--blue-accent: #2563eb;--blue-light: #3b82f6;--blue-pale: #dbeafe;--green: #059669;--green-light: #d1fae5;--yellow: #d97706;--yellow-light: #fef3c7;--red: #dc2626;--red-light: #fee2e2;--gray-50: #f9fafb;--gray-100: #f3f4f6;--gray-200: #e5e7eb;--gray-300: #d1d5db;--gray-400: #9ca3af;--gray-500: #6b7280;--gray-600: #4b5563;--gray-700: #374151;--gray-800: #1f2937;--gray-900: #111827;--radius: 8px;--shadow-sm: 0 1px 2px rgba(0,0,0,.05);--shadow: 0 1px 3px rgba(0,0,0,.1), 0 1px 2px rgba(0,0,0,.06);--shadow-md: 0 4px 6px rgba(0,0,0,.07), 0 2px 4px rgba(0,0,0,.06);--shadow-lg: 0 10px 15px rgba(0,0,0,.1), 0 4px 6px rgba(0,0,0,.05)}*{margin:0;padding:0;box-sizing:border-box}body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif;background:var(--gray-50);color:var(--gray-800);line-height:1.5;-webkit-font-smoothing:antialiased}#root{min-height:100vh}.app-header{background:var(--navy);color:#fff;padding:12px 24px;display:flex;align-items:center;justify-content:space-between;box-shadow:var(--shadow-md);position:sticky;top:0;z-index:100}.app-header h1{font-size:18px;font-weight:600;letter-spacing:-.01em}.app-header .brand{font-size:12px;opacity:.7;margin-left:12px;font-weight:400}.header-actions{display:flex;gap:8px;align-items:center}.app-container{max-width:1200px;margin:0 auto;padding:20px 24px 60px}.stepper{display:flex;align-items:center;justify-content:center;padding:16px 0 32px;gap:0;flex-wrap:wrap}.stepper-step{display:flex;align-items:center;cursor:pointer;position:relative}.stepper-step .step-number{width:32px;height:32px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:13px;font-weight:600;border:2px solid var(--gray-300);background:#fff;color:var(--gray-400);transition:all .2s;flex-shrink:0}.stepper-step.active .step-number{background:var(--blue-accent);border-color:var(--blue-accent);color:#fff}.stepper-step.completed .step-number{background:var(--green);border-color:var(--green);color:#fff}.stepper-step .step-label{font-size:11px;color:var(--gray-500);position:absolute;top:38px;left:50%;transform:translate(-50%);white-space:nowrap;font-weight:500}.stepper-step.active .step-label{color:var(--blue-accent);font-weight:600}.stepper-step.completed .step-label{color:var(--green)}.stepper-line{width:40px;height:2px;background:var(--gray-300);margin:0 4px}.stepper-line.completed{background:var(--green)}.card{background:#fff;border-radius:var(--radius);box-shadow:var(--shadow);padding:24px;margin-bottom:16px}.card-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:16px}.card h2{font-size:18px;font-weight:600;color:var(--gray-900)}.card h3{font-size:15px;font-weight:600;color:var(--gray-800);margin-bottom:12px}.form-group{margin-bottom:16px}.form-row{display:flex;gap:16px;flex-wrap:wrap}.form-row>.form-group{flex:1;min-width:180px}label{display:block;font-size:13px;font-weight:500;color:var(--gray-700);margin-bottom:4px}input[type=text],input[type=number],select,textarea{width:100%;padding:8px 12px;border:1px solid var(--gray-300);border-radius:6px;font-size:14px;color:var(--gray-800);background:#fff;transition:border-color .15s,box-shadow .15s;outline:none}input[type=text]:focus,input[type=number]:focus,select:focus,textarea:focus{border-color:var(--blue-accent);box-shadow:0 0 0 3px #2563eb1a}input[type=number]{-moz-appearance:textfield}input[type=checkbox]{width:16px;height:16px;accent-color:var(--blue-accent);cursor:pointer}.checkbox-label{display:flex;align-items:center;gap:8px;cursor:pointer;font-size:14px}.btn{display:inline-flex;align-items:center;justify-content:center;gap:6px;padding:8px 16px;border-radius:6px;font-size:14px;font-weight:500;cursor:pointer;border:1px solid transparent;transition:all .15s;text-decoration:none;white-space:nowrap}.btn:disabled{opacity:.5;cursor:not-allowed}.btn-primary{background:var(--blue-accent);color:#fff;border-color:var(--blue-accent)}.btn-primary:hover:not(:disabled){background:#1d4ed8}.btn-secondary{background:#fff;color:var(--gray-700);border-color:var(--gray-300)}.btn-secondary:hover:not(:disabled){background:var(--gray-50);border-color:var(--gray-400)}.btn-success{background:var(--green);color:#fff}.btn-success:hover:not(:disabled){background:#047857}.btn-danger{background:#fff;color:var(--red);border-color:var(--red)}.btn-danger:hover:not(:disabled){background:var(--red-light)}.btn-sm{padding:5px 10px;font-size:12px}.btn-lg{padding:12px 24px;font-size:15px}.btn-ghost{background:transparent;color:var(--gray-600);border:none;padding:6px 10px}.btn-ghost:hover{background:var(--gray-100);color:var(--gray-800)}.btn-header{background:#ffffff26;color:#fff;border:1px solid rgba(255,255,255,.25);font-size:12px;padding:6px 12px}.btn-header:hover{background:#ffffff40}.step-nav{display:flex;justify-content:space-between;align-items:center;margin-top:24px;padding-top:16px;border-top:1px solid var(--gray-200)}.badge{display:inline-flex;align-items:center;padding:3px 10px;border-radius:12px;font-size:12px;font-weight:600}.badge-ok{background:var(--green-light);color:var(--green)}.badge-warning{background:var(--yellow-light);color:var(--yellow)}.badge-danger{background:var(--red-light);color:var(--red)}.badge-info{background:var(--blue-pale);color:var(--blue-accent)}.hint-panel{background:var(--blue-pale);border:1px solid rgba(37,99,235,.2);border-radius:6px;padding:10px 14px;font-size:13px;color:var(--gray-700);margin-bottom:12px;line-height:1.5}.hint-panel.warning{background:var(--yellow-light);border-color:#d977064d}.hint-panel.danger{background:var(--red-light);border-color:#dc26264d}.data-table{width:100%;border-collapse:collapse;font-size:13px}.data-table th{background:var(--gray-100);padding:8px 10px;text-align:left;font-weight:600;color:var(--gray-700);border-bottom:2px solid var(--gray-200);white-space:nowrap}.data-table td{padding:6px 10px;border-bottom:1px solid var(--gray-100);vertical-align:middle}.data-table tr:hover{background:var(--gray-50)}.data-table input,.data-table select{padding:4px 8px;font-size:13px}.data-table .narrow{width:70px}.data-table .medium{width:100px}.data-table .lra-input{width:65px;padding:4px;font-size:12px}.data-table .lra-cell{min-width:72px;padding-right:6px}.table-scroll{overflow-x:auto;-webkit-overflow-scrolling:touch}.table-scroll .data-table{min-width:860px}.data-table th.sticky-right,.data-table td.sticky-right{position:sticky;right:0;background:#fff;z-index:1}.data-table th.sticky-right{background:var(--gray-100)}.data-table tr:hover td.sticky-right{background:var(--gray-50)}.result-panel{background:var(--gray-50);border:1px solid var(--gray-200);border-radius:var(--radius);padding:16px;margin-bottom:12px}.result-panel h4{font-size:14px;font-weight:600;margin-bottom:8px;color:var(--gray-800)}.result-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:16px}.result-item{background:#fff;border:1px solid var(--gray-200);border-radius:6px;padding:14px;text-align:center}.result-item .value{font-size:24px;font-weight:700;color:var(--navy)}.result-item .label{font-size:12px;color:var(--gray-500);margin-top:2px}.result-item .sub{font-size:11px;color:var(--gray-400);margin-top:4px}.battery-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:16px}.battery-card{background:#fff;border:2px solid var(--gray-200);border-radius:var(--radius);padding:16px;position:relative}.battery-card.recommended{border-color:var(--blue-accent)}.battery-card .badge-recommended{position:absolute;top:-10px;right:12px;background:var(--blue-accent);color:#fff;padding:2px 10px;border-radius:10px;font-size:11px;font-weight:600}.battery-card h4{font-size:15px;font-weight:600;margin-bottom:12px;color:var(--gray-800)}.battery-stat{display:flex;justify-content:space-between;padding:4px 0;font-size:13px;border-bottom:1px solid var(--gray-100)}.battery-stat:last-child{border-bottom:none}.battery-stat .stat-label{color:var(--gray-500)}.battery-stat .stat-value{font-weight:600;color:var(--gray-800)}.option-cards{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:16px}.option-card{background:#fff;border:2px solid var(--gray-200);border-radius:var(--radius);padding:20px;cursor:pointer;transition:all .15s}.option-card:hover{border-color:var(--blue-light);box-shadow:var(--shadow-md)}.option-card.selected{border-color:var(--blue-accent);background:var(--blue-pale)}.option-card h4{font-size:15px;font-weight:600;margin-bottom:6px}.option-card p{font-size:13px;color:var(--gray-500)}.source-tag{font-size:10px;padding:1px 6px;border-radius:8px;font-weight:600;text-transform:uppercase;letter-spacing:.03em;white-space:nowrap}.source-tag.assumed{background:var(--yellow-light);color:var(--yellow)}.source-tag.breaker-based{background:var(--blue-pale);color:var(--blue-accent)}.source-tag.nameplate{background:var(--green-light);color:var(--green)}.source-tag.user-entered{background:#f3e8ff;color:#7c3aed}.toast{position:fixed;bottom:24px;right:24px;background:var(--gray-800);color:#fff;padding:12px 20px;border-radius:8px;font-size:14px;box-shadow:var(--shadow-lg);z-index:1000;animation:slideUp .3s ease}@keyframes slideUp{0%{transform:translateY(20px);opacity:0}to{transform:translateY(0);opacity:1}}.text-sm{font-size:13px}.text-xs{font-size:12px}.text-muted{color:var(--gray-500)}.text-center{text-align:center}.mt-2{margin-top:8px}.mt-4{margin-top:16px}.mb-2{margin-bottom:8px}.mb-4{margin-bottom:16px}@media print{.app-header,.stepper,.step-nav,.toast{display:none!important}body{background:#fff;color:#000;font-size:11px}.app-container{max-width:100%;padding:0;margin:0}.card{box-shadow:none;border:1px solid #ccc;page-break-inside:avoid;margin-bottom:8px;padding:12px}.hint-panel{border:1px solid #ccc;background:#f9f9f9!important;page-break-inside:avoid}.result-grid{grid-template-columns:repeat(4,1fr)}.battery-grid{grid-template-columns:repeat(3,1fr)}.data-table{font-size:10px}.data-table input,.data-table select{border:none;background:transparent;padding:0;font-size:10px}.badge,.source-tag{print-color-adjust:exact;-webkit-print-color-adjust:exact}}@media(max-width:768px){.app-container{padding:12px 12px 40px}.card{padding:16px}.form-row{flex-direction:column;gap:0}.stepper{gap:0;padding:10px 0 30px}.stepper-line{width:20px}.stepper-step .step-label{font-size:9px}.stepper-step .step-number{width:28px;height:28px;font-size:11px}.data-table{font-size:11px}.data-table td,.data-table th{padding:4px 6px}.battery-grid,.option-cards{grid-template-columns:1fr}.result-grid{grid-template-columns:1fr 1fr}}
